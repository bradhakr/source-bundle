<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<l7:Bundle xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management">
    <l7:References>
        <l7:Item>
            <l7:Name>Enterprise</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281576</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.101Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Folder folderId="0000000000000000ffffffffffffec76" id="4470879d84cb251ffeb70ae13a281576" version="0">
                    <l7:Name>Enterprise</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Proxies</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec11fc</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.101Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Folder folderId="4470879d84cb251ffeb70ae13a281576" id="0f70cf5601d3fe40454b68c342ec11fc" version="0">
                    <l7:Name>Proxies</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>MasterTemplate</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281577</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.101Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Folder folderId="4470879d84cb251ffeb70ae13a281576" id="4470879d84cb251ffeb70ae13a281577" version="0">
                    <l7:Name>MasterTemplate</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>AWS</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281578</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.101Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Folder folderId="4470879d84cb251ffeb70ae13a281576" id="4470879d84cb251ffeb70ae13a281578" version="0">
                    <l7:Name>AWS</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281579</l7:Id>
            <l7:Type>FOLDER</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.101Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Folder folderId="4470879d84cb251ffeb70ae13a281576" id="4470879d84cb251ffeb70ae13a281579" version="2">
                    <l7:Name>Consul</l7:Name>
                </l7:Folder>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONTACT</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec124a</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.105Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="0f70cf5601d3fe40454b68c342ec124a" version="2">
                    <l7:ServiceDetail folderId="0f70cf5601d3fe40454b68c342ec11fc" id="0f70cf5601d3fe40454b68c342ec124a" version="2">
                        <l7:Name>CONTACT</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/contact/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>3</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="2">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJDb250YWN0IEFwcCIsCiAgICAgIlJlc3BvbnNlIjogIkFQSSBjYWxsIFN1Y2Nlc3MiCn0="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CUSTOMER</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec1357</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.107Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="0f70cf5601d3fe40454b68c342ec1357" version="1">
                    <l7:ServiceDetail folderId="0f70cf5601d3fe40454b68c342ec11fc" id="0f70cf5601d3fe40454b68c342ec1357" version="1">
                        <l7:Name>CUSTOMER</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/customer/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJDdXN0b21lciBBcHAiLAogICAgICJSZXNwb25zZSI6ICJBUEkgY2FsbCBTdWNjZXNzIgp9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>ORDER</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec13a1</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.109Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="0f70cf5601d3fe40454b68c342ec13a1" version="1">
                    <l7:ServiceDetail folderId="0f70cf5601d3fe40454b68c342ec11fc" id="0f70cf5601d3fe40454b68c342ec13a1" version="1">
                        <l7:Name>ORDER</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/order/*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="ewogICAgICJBcHBsaWNhdGlvbiI6ICJPcmRlciBBcHAiLAogICAgICJSZXNwb25zZSI6ICJBUEkgY2FsbCBTdWNjZXNzIgp9"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>cluster.hostname</l7:Name>
            <l7:Id>0000000000000000fffffffffff5519f</l7:Id>
            <l7:Type>CLUSTER_PROPERTY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.109Z</l7:TimeStamp>
            <l7:Resource>
                <l7:ClusterProperty id="0000000000000000fffffffffff5519f" version="1">
                    <l7:Name>cluster.hostname</l7:Name>
                    <l7:Value>localhost</l7:Value>
                </l7:ClusterProperty>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>PROXY1</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281586</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.110Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281586" version="3">
                    <l7:ServiceDetail folderId="0f70cf5601d3fe40454b68c342ec11fc" id="4470879d84cb251ffeb70ae13a281586" version="3">
                        <l7:Name>PROXY1</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/rest/api01</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="UHJveHkxIFN1Y2Nlc3MhISEgZnJvbSAiJHtnYXRld2F5LmNsdXN0ZXIuaG9zdG5hbWV9IgoKUXVlcnk6ICR7cmVxdWVzdC51cmwucXVlcnl9CgpIZWFkZXI6ICR7cmVxdWVzdC5odHRwLmFsbGhlYWRlcnZhbHVlc30="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>consul.hostaddress</l7:Name>
            <l7:Id>ea99171044b9c03cd3cf8891242458c9</l7:Id>
            <l7:Type>CLUSTER_PROPERTY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.110Z</l7:TimeStamp>
            <l7:Resource>
                <l7:ClusterProperty id="ea99171044b9c03cd3cf8891242458c9" version="2">
                    <l7:Name>consul.hostaddress</l7:Name>
                    <l7:Value>http://10.142.0.5:32345/v1</l7:Value>
                </l7:ClusterProperty>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>SSL</l7:Name>
            <l7:Id>00000000000000000000000000000002:SSL</l7:Id>
            <l7:Type>SSG_KEY_ENTRY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.433Z</l7:TimeStamp>
            <l7:Resource>
                <l7:PrivateKey alias="SSL" id="00000000000000000000000000000002:SSL" keystoreId="00000000000000000000000000000002">
                    <l7:CertificateChain>
                        <l7:CertificateData>
                            <l7:IssuerName>CN%3Dgw-dc-9ccdc77c9-2f4jr</l7:IssuerName>
                            <l7:SerialNumber>2149792447817325016</l7:SerialNumber>
                            <l7:SubjectName>CN%3Dgw-dc-9ccdc77c9-2f4jr</l7:SubjectName>
                            <l7:Encoded>MIIDBDCCAeygAwIBAgIIHdWY11j4GdgwDQYJKoZIhvcNAQEMBQAwIDEeMBwGA1UEAxMVZ3ctZGMtOWNjZGM3N2M5LTJmNGpyMB4XDTE5MDgyMTIyMjk0OFoXDTI5MDgxODIyMjk0OFowIDEeMBwGA1UEAxMVZ3ctZGMtOWNjZGM3N2M5LTJmNGpyMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAnSw/5qxSIRyzi+qMj6XuKM/+uiORQg8xbjzW5wHI7ESsI9Jz4X7yGOuFMADahx/EEzNREJ6J0WmH1tJvddPDjKt/hFhGdAJ08RzfUpDIcTqvugTfcQI0QjU27uBg2FtLj68haAA/EHJGKv27kXhubnPxSaDCQl5QGRc3QWFz1NM3jOiZF6b7x5zk4XBLtieTEtFldSHDdO7mYa1N5OK/6bXDzBdTwzaJCkHRXLbgfsp/OVetYfmj2NoDtMzKxThniHGKXuQ9NHLtiv2XvAGb1OExzIvroW3p4nVSKTi7gIMb1lKL0l+aRJxZ2iI21VQIz7x43hxaO6ead/TkJpEhHwIDAQABo0IwQDAdBgNVHQ4EFgQUY6lBHVOZtR/33yKKcStWIJwnCC4wHwYDVR0jBBgwFoAUY6lBHVOZtR/33yKKcStWIJwnCC4wDQYJKoZIhvcNAQEMBQADggEBAHPeGKSg98xgPgh/xbtVZIqomsoG98r8yOLZTriJLtPO16lYiZ2D1lul09/d37CGThPhfDqdvg8BPFe6tY02eNSl5gC5lPYn8klAcYzwpfwlRTywTDDNvGVikOCzWErNhEkyntr07CqiXn3yB3G6d1CBgT0cFJx5I911LeHUGj174PieM4Ks3ZarS2bm6/afs2wSRgyKYrR7DZL/C5Hiwigj2BONufTYAiRl2LSBulMXl/Ym5MDOjYvevpJuqjmUNfkiTDB8MC2gymfENusIZmJky8XlZCF0yhwFWyMAxmjdqpbeKCY4JAkn7nkBP+9UPXNdxmPfMNkcaGfWJwPSHSI=</l7:Encoded>
                        </l7:CertificateData>
                    </l7:CertificateChain>
                    <l7:Properties>
                        <l7:Property key="keyAlgorithm">
                            <l7:StringValue>RSA</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="keyData">
                            <l7:StringValue algorithm="RSA" bundleKey="$L7C2$1bead,24/LuANkEtXLsiUaG4Qcf4qmr69D1lNEsZi/a5l6e7M=$cMLk1WoYaUHeNag0bg9+1AozaSbINBnYNok+ktp9j6BY2Ety4/kimOMv1sTju/irFWPJLWQsUXuPWzQlLd1vZrTo2easss+kHAJGrSDPa7Ow/Ta2Vx9/vRZsWi5+IOuj">$L7C2$1,sJ4RVDTL+fy0xNFoeS0ahZGpV0XjlpHfFb+SAW57rSY=$MgkVUMJtXej9ZP3Nbjh3dtvh/HnTv8jPiOgkJF91K1Xoj1LtTzKga5nKySqjf4b0+7w0MC3IZUL3TYENBc0lWPCl+IvHJKMIowI4C29RJ+X7i/R8EHlyagujdW0XLyQaXAMuMmVGqRrZ/AY2tf3e4TbM8vQMNkPZCJl1ue6Jb+eUIYZahOVYFX8l8DV7/MGtE6ORwrenUSjyAuqwLejPZN61VzlY9ZeymxIGWv0oTZkYruM4AU09+1hH8uV7VcR69GPEKB7X/xdPYJEeDeY9V4807zs9I9X63Jsrf5ef5d59sunasrQpUSc6Ox8NuX2Mrg3d7IFXuh5DlV5nNdrTV8eAsc9YJAFX2/mDKhDAJ+idHF08OnsboENUy3kj2wGvA5CNmT4TfBvD2C5tSM2wNRs3Oj+F1xzsRCO5Q2WnJ24+EJdK49tz9T1XC/dG4j8B3LB1KtBGz0j9l7w9VYomGmx6KHTHTgvCHQOTa76JH4DNu/cZ5NlmZUnXgexxULxWI/EXlUDZvLI6sNdN4KJfzzXww1EfTVcEsH4LbPQ/o4QkcPf4KdVb1ATgpkDJrpdAroxk4i91nphnqTK0ttvDZmj4AEg7xLT/ufvipKTTkkElmckzrze0rGW7pKwIVETdGQCBh/JToWF4HX8GOwVowE/QdaCYgPKbYMF/kzl4BIrdEXWAaVmkJgK9bfpX+0c2UB9wuwBQP7KFJ93VwgPC6jk1ToBxXo1mxqE64gNGsr0A6W9qhWYit2vlluYClODEN6cEOBHfkLGWSrQ1YBbTnlkAsrHkREkiOvd0qZsIm7RPrr5TU0XGrq9BaBewJE1n/oSvEZmmEoZzKjNad5U7G7Ajszz9dlOPEQbQlkVSZK3vQ2Q775zVdsuNMvG0izoJ6ooyDECYxYi4ketxggYfXFq9upJSyelZE9DScOTr0CYy3TGQmngqLWrKBoBBViDb8x2XRw6EroFFdfeZpiP3VQMuLEemcGDsGXp4rjn0g5LZvF9NUPk2afdwJcPDBMI6grSlNDh3uyArLwfpcq/Eh75DbYqXoGvGzgCNKsKOn27Fx53ng/KrAlZWg7EsfK/0GwGymN/UnnBLjsvZtU9GucyLCh0JV0KwevhjT73eSKiA5MM0HHCkmf3J6VOjMdy7emMjU3cg6KPw9W7TuBltFApWaEOAStzt4VpLoxly7CG+X0+umSvdXk4+zdQ9u4Ti7fiAFOaKC436dPv9Q+XZehqu9dIvdK/bG6Hm2RSwynjHZhJJZUpweQYp+7igbBUd9Kp61V92tIuUrAjndMCl1ceIZJ70u6nitMJmbFd0GZST9JKkBkZ6I6an6vgraCruD+ZLAXz9r42WQSAi5eXehTF+CMnsqtZ+cg17Njg12ZylPnd3Tn2qop2M9WoLV+PuW8cFOHUWclJOGy7TqhCY6qD8nV20rAb//9OIIvgSmJ9LZUsnPDp03n69hTKjeGrhvt/pqG32vCij8eGzTAD9SEktbdqwY3kcrGMtjWy+YBkb5NWgE1F+UazRLLQciCPs8aQyAzsg4fu9OyvMZBymhe8UKeldCY53pzeQDuXBQP+wmcv+3Bp7Lv7ShSPPsqLFSNZi1T5cGSqveId+E34IYKjX8sz4SVXcovPQS2kSNmfFF4ot8SgQr6/SGvZs3VHWwj0ui4DlP4kJDHLFRB+MAAtqvZtPEcB9o45tRs/BnCc=</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:PrivateKey>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL-CatalogSync</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec1108</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.445Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="bc38147f-2c17-4217-ab9e-5c41d95b1778" id="0f70cf5601d3fe40454b68c342ec1108" version="1">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="bc38147f-2c17-4217-ab9e-5c41d95b1778" id="0f70cf5601d3fe40454b68c342ec1108" version="1">
                        <l7:Name>CONSUL-CatalogSync</l7:Name>
                        <l7:PolicyType>Service Operation</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="subtag">
                                <l7:StringValue>run</l7:StringValue>
                            </l7:Property>
                            <l7:Property key="tag">
                                <l7:StringValue>com.l7tech.objectmodel.polback.BackgroundTask</l7:StringValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: CONSUL-CatalogSync"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:Level stringValue="INFO"/&gt;
            &lt;L7p:SaveRequest booleanValue="true"/&gt;
            &lt;L7p:SaveResponse booleanValue="true"/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Get all nodes"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/coordinate/nodes"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Parse node info"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=".Node"/&gt;
            &lt;L7p:Target target="RESPONSE"/&gt;
            &lt;L7p:VariablePrefix stringValue="nodes"/&gt;
        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
        &lt;L7p:ForEachLoop L7p:Usage="Required"
            loopVariable="nodes.results" variablePrefix="node"&gt;
            &lt;L7p:HttpRoutingAssertion&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Get health for node"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/health/node/${node.current}"/&gt;
                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Cookie"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="SOAPAction"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:RequestHeaderRules&gt;
                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                &lt;/L7p:RequestParamRules&gt;
                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:ResponseHeaderRules&gt;
                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
            &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Parse service names"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Expression stringValue=".ServiceName"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="serviceNames"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:ForEachLoop L7p:Usage="Required"
                loopVariable="serviceNames.results" variablePrefix="serviceName"&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                            &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                            &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                            &lt;L7p:Operator operatorNull="null"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="//Get service info"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/health/service/${serviceName.current}"/&gt;
                            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:RequestHeaderRules&gt;
                            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                            &lt;/L7p:RequestParamRules&gt;
                            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:ResponseHeaderRules&gt;
                            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                        &lt;/L7p:HttpRoutingAssertion&gt;
                        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Parse service for all addresses"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Expression stringValue=".Service.Address"/&gt;
                            &lt;L7p:Target target="RESPONSE"/&gt;
                            &lt;L7p:VariablePrefix stringValue="serviceAddresses"/&gt;
                        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue="Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                            &lt;L7p:Enabled booleanValue="false"/&gt;
                            &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;wsp:OneOrMore L7p:Enabled="false" wsp:Usage="Required"&gt;
                            &lt;L7p:CacheLookup&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheLookup&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[Before Saving
Service name : ${serviceName.current}
Addresses from Cache before storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Expression1 stringValue="${serviceAddresses.results}"/&gt;
                                &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                &lt;L7p:Operator operatorNull="null"/&gt;
                                &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValue="Before Saving Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                &lt;L7p:Enabled booleanValue="false"/&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzc2VzLnJlc3VsdHN9"/&gt;
                                &lt;L7p:ContentType stringValue="text/plain; charset=utf-8"/&gt;
                                &lt;L7p:DataType variableDataType="message"/&gt;
                                &lt;L7p:VariableToSet stringValue="addrMessage"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:CacheStorage&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:MaxEntries stringValue="1000"/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:MaxEntrySizeBytes stringValue="1000000"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="addrMessage"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheStorage&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All L7p:Enabled="false" wsp:Usage="Required"&gt;
                            &lt;L7p:CacheLookup&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheLookup&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[After Saving
Service name : ${serviceName.current}
Addresses from Cache after storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;/wsp:All&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                            &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                            &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                            &lt;L7p:Operator operatorNull="null"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/L7p:ForEachLoop&gt;
        &lt;/L7p:ForEachLoop&gt;
        &lt;L7p:FaultLevel&gt;
            &lt;L7p:LevelInfo soapFaultLevel="included"&gt;
                &lt;L7p:Level intValue="4"/&gt;
            &lt;/L7p:LevelInfo&gt;
        &lt;/L7p:FaultLevel&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="T2s="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Dynamic Route with Service</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec1869</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.454Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="ebf77ddd-9b9f-4020-8129-add1bc8fe6ef" id="0f70cf5601d3fe40454b68c342ec1869" version="1">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="ebf77ddd-9b9f-4020-8129-add1bc8fe6ef" id="0f70cf5601d3fe40454b68c342ec1869" version="1">
                        <l7:Name>Consul - Dynamic Route with Service</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Dynamic Route with Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                    &lt;L7p:Expression2 stringValue="/"/&gt;
                    &lt;L7p:Negate booleanValue="true"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:Negated booleanValue="true"/&gt;
                            &lt;L7p:RightValue stringValue="/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:Expression1 stringValue="${param.uri}"/&gt;
                            &lt;L7p:Expression2 stringValue="[]"/&gt;
                            &lt;L7p:Operator operator="NE"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Operator operator="NE"/&gt;
                                    &lt;L7p:RightValue stringValue="[]"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="param.uri"/&gt;
                            &lt;L7p:OutputVariable stringValue="uriSplit"/&gt;
                            &lt;L7p:SplitPattern stringValue="/"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CacheLookup&gt;
                            &lt;L7p:CacheEntryKey stringValue="${uriSplit[0]}"/&gt;
                            &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                            &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                            &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                            &lt;L7p:OtherTargetMessageVariable stringValue="serviceAddress"/&gt;
                            &lt;L7p:Target target="OTHER"/&gt;
                        &lt;/L7p:CacheLookup&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzcy5tYWlucGFydH0="/&gt;
                            &lt;L7p:VariableToSet stringValue="hostAddress"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hostAddress"/&gt;
                            &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue=""/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required"
                            loopVariable="hostDetails" variablePrefix="url"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtob3N0dXJsfSR7cmVxdWVzdC51cmwucHJvdG9jb2x9Oi8vJHt1cmwuY3VycmVudH06JHtyZXF1ZXN0LnVybC5wb3J0fSR7cGFyYW0udXJpfSR7cmVxdWVzdC51cmwucXVlcnl9LA=="/&gt;
                                &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/L7p:ForEachLoop&gt;
                        &lt;L7p:Split&gt;
                            &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                            &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                            &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                        &lt;/L7p:Split&gt;
                        &lt;L7p:CreateRoutingStrategy&gt;
                            &lt;L7p:Routes routes="included"&gt;
                                &lt;L7p:item route="included"&gt;
                                    &lt;L7p:Name stringValue="${routeList}"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Routes&gt;
                            &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                            &lt;L7p:StrategyName stringValue="robin"/&gt;
                        &lt;/L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:ForEachLoop L7p:Usage="Required"
                            loopVariable="strategy.routeList" variablePrefix="route"&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:ExecuteRoutingStrategy/&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:HttpRoutingAssertion&gt;
                                    &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                    &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:RequestHeaderRules&gt;
                                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                    &lt;/L7p:RequestParamRules&gt;
                                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                    &lt;/L7p:ResponseHeaderRules&gt;
                                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                    &lt;L7p:Timeout stringValue="6000"/&gt;
                                &lt;/L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                    &lt;L7p:DataType variableDataType="int"/&gt;
                                    &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                                &lt;L7p:ComparisonAssertion&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                    &lt;L7p:Operator operatorNull="null"/&gt;
                                    &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="int"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:RightValue stringValue="-1"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Predicates&gt;
                                &lt;/L7p:ComparisonAssertion&gt;
                                &lt;L7p:SetVariable&gt;
                                    &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                    &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                                &lt;/L7p:SetVariable&gt;
                            &lt;/wsp:OneOrMore&gt;
                            &lt;L7p:ProcessRoutingStrategyResult/&gt;
                        &lt;/L7p:ForEachLoop&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:CustomizeErrorResponse&gt;
                            &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Service not found - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                            &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                            &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                                &lt;L7p:item nameValuePair="included"&gt;
                                    &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                                    &lt;L7p:Value stringValue="Request Failer"/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:ExtraHeaders&gt;
                        &lt;/L7p:CustomizeErrorResponse&gt;
                        &lt;L7p:RaiseError/&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Insufficient Information - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Dynamic Route with Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281565</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.463Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="680cebc3-81d6-4d83-be94-6dd1ab669989" id="4470879d84cb251ffeb70ae13a281565" version="1">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="680cebc3-81d6-4d83-be94-6dd1ab669989" id="4470879d84cb251ffeb70ae13a281565" version="1">
                        <l7:Name>Consul - Dynamic Route with Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Dynamic Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.apiLocation"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="apiLoc"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.uri"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="uri"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.port"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="port"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                    &lt;L7p:Expression stringValue="$.protocol"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                    &lt;L7p:VariablePrefix stringValue="protocol"/&gt;
                &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;wsp:All wsp:Usage="Required"&gt;
                    &lt;L7p:SetVariable&gt;
                        &lt;L7p:Base64Expression stringValue=""/&gt;
                        &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                    &lt;/L7p:SetVariable&gt;
                    &lt;L7p:Split&gt;
                        &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                        &lt;L7p:InputVariable stringValue="apiLoc.result"/&gt;
                        &lt;L7p:OutputVariable stringValue="hostDetails"/&gt;
                    &lt;/L7p:Split&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required"
                        loopVariable="hostDetails" variablePrefix="url"&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtob3N0dXJsfSR7cHJvdG9jb2wucmVzdWx0c1swXX06Ly8ke3VybC5jdXJyZW50fToke3BvcnQucmVzdWx0c1swXX0ke3VyaS5yZXN1bHRzWzBdfSR7cmVxdWVzdC51cmwucXVlcnl9LA=="/&gt;
                            &lt;L7p:VariableToSet stringValue="hosturl"/&gt;
                        &lt;/L7p:SetVariable&gt;
                    &lt;/L7p:ForEachLoop&gt;
                    &lt;L7p:Split&gt;
                        &lt;L7p:IgnoreEmptyValues booleanValue="true"/&gt;
                        &lt;L7p:InputVariable stringValue="hosturl"/&gt;
                        &lt;L7p:OutputVariable stringValue="routeList"/&gt;
                    &lt;/L7p:Split&gt;
                    &lt;L7p:CreateRoutingStrategy&gt;
                        &lt;L7p:Routes routes="included"&gt;
                            &lt;L7p:item route="included"&gt;
                                &lt;L7p:Name stringValue="${routeList}"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Routes&gt;
                        &lt;L7p:StrategyDescription stringValue="Round-Robin"/&gt;
                        &lt;L7p:StrategyName stringValue="robin"/&gt;
                    &lt;/L7p:CreateRoutingStrategy&gt;
                    &lt;L7p:ForEachLoop L7p:Usage="Required"
                        loopVariable="strategy.routeList" variablePrefix="route"&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="MA=="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:ExecuteRoutingStrategy/&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;L7p:HttpRoutingAssertion&gt;
                                &lt;L7p:ConnectionTimeout stringValue="3000"/&gt;
                                &lt;L7p:ProtectedServiceUrl stringValue="${route}"/&gt;
                                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:RequestHeaderRules&gt;
                                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                                &lt;/L7p:RequestParamRules&gt;
                                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;/L7p:Rules&gt;
                                &lt;/L7p:ResponseHeaderRules&gt;
                                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                                &lt;L7p:Timeout stringValue="6000"/&gt;
                            &lt;/L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="LTE="/&gt;
                                &lt;L7p:DataType variableDataType="int"/&gt;
                                &lt;L7p:VariableToSet stringValue="feedback.current.status"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHthc3NlcnRpb24ubGF0ZW5jeS5tc30="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.latency"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;L7p:SetVariable&gt;
                            &lt;L7p:Base64Expression stringValue="JHtodHRwcm91dGluZy5yZWFzb25Db2RlfQ=="/&gt;
                            &lt;L7p:DataType variableDataType="int"/&gt;
                            &lt;L7p:VariableToSet stringValue="feedback.current.reasoncode"/&gt;
                        &lt;/L7p:SetVariable&gt;
                        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Expression1 stringValue="${feedback.current.status}"/&gt;
                                &lt;L7p:Operator operatorNull="null"/&gt;
                                &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="int"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:RightValue stringValue="-1"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="dHJ1ZQ=="/&gt;
                                &lt;L7p:VariableToSet stringValue="routeList.break"/&gt;
                            &lt;/L7p:SetVariable&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;L7p:ProcessRoutingStrategyResult/&gt;
                    &lt;/L7p:ForEachLoop&gt;
                    &lt;L7p:assertionComment&gt;
                        &lt;L7p:Properties mapValue="included"&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="URL PREPARE"/&gt;
                            &lt;/L7p:entry&gt;
                            &lt;L7p:entry&gt;
                                &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                &lt;L7p:value stringValue="//Preparing url for routelist"/&gt;
                            &lt;/L7p:entry&gt;
                        &lt;/L7p:Properties&gt;
                    &lt;/L7p:assertionComment&gt;
                &lt;/wsp:All&gt;
                &lt;L7p:assertionComment&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="PREPARE ROUTE"/&gt;
                        &lt;/L7p:entry&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Retrieve data from retreived response and prepare for Route"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:assertionComment&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - DeRegister Catalog</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281566</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.465Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="5ad5fbbb-e63d-48ad-a9bd-8e2286a3329b" id="4470879d84cb251ffeb70ae13a281566" version="1">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="5ad5fbbb-e63d-48ad-a9bd-8e2286a3329b" id="4470879d84cb251ffeb70ae13a281566" version="1">
                        <l7:Name>Consul - DeRegister Catalog</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Catalog"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/catalog/deregister"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Apply RateLimit</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281568</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.468Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="887efd92-2ff8-4ca6-b124-8c82d3ea4101" id="4470879d84cb251ffeb70ae13a281568" version="2">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="887efd92-2ff8-4ca6-b124-8c82d3ea4101" id="4470879d84cb251ffeb70ae13a281568" version="2">
                        <l7:Name>Consul - Apply RateLimit</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>3</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="LyR7ZG9tYWlufS9yYXRlbGltaXQ="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:Expression stringValue="$.rateLimit"/&gt;
                &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                &lt;L7p:Target target="OTHER"/&gt;
                &lt;L7p:VariablePrefix stringValue="rateLimit"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:Expression stringValue="$.spreadLimit"/&gt;
                &lt;L7p:OtherTargetMessageVariable stringValue="output"/&gt;
                &lt;L7p:Target target="OTHER"/&gt;
                &lt;L7p:VariablePrefix stringValue="spreadLimit"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtyYXRlTGltaXQucmVzdWx0c1swXX0="/&gt;
                &lt;L7p:VariableToSet stringValue="rateLimit"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHtzcHJlYWRMaW1pdC5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:VariableToSet stringValue="spreadLimit"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="L2UzNWFjNjM0LSR7cmVxdWVzdC5jbGllbnRpZH0vcmF0ZWxpbWl0"/&gt;
                &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
            &lt;/L7p:SetVariable&gt;
        &lt;/wsp:All&gt;
        &lt;L7p:RateLimit&gt;
            &lt;L7p:CounterName stringValue="${customData}"/&gt;
            &lt;L7p:MaxRequestsPerSecond stringValue="${rateLimit}"/&gt;
            &lt;L7p:WindowSizeInSeconds stringValue="${spreadLimit}"/&gt;
        &lt;/L7p:RateLimit&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - PUT Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281569</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.471Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="c85c97e7-e777-4d9b-ad38-cb9015312210" id="4470879d84cb251ffeb70ae13a281569" version="0">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="c85c97e7-e777-4d9b-ad38-cb9015312210" id="4470879d84cb251ffeb70ae13a281569" version="0">
                        <l7:Name>Consul - PUT Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - PUT Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:Regex&gt;
            &lt;L7p:AutoTarget booleanValue="false"/&gt;
            &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
            &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
            &lt;L7p:Regex stringValue="/put/key/"/&gt;
            &lt;L7p:RegexName stringValue="process uri"/&gt;
            &lt;L7p:Replace booleanValue="true"/&gt;
            &lt;L7p:Replacement stringValue="/"/&gt;
            &lt;L7p:Target target="OTHER"/&gt;
        &lt;/L7p:Regex&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/kv${param.uri}"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - GET Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28156a</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.474Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="dd304b42-3b1f-44ba-be4e-2f9f50fc1a23" id="4470879d84cb251ffeb70ae13a28156a" version="0">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="dd304b42-3b1f-44ba-be4e-2f9f50fc1a23" id="4470879d84cb251ffeb70ae13a28156a" version="0">
                        <l7:Name>Consul - GET Key</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - GET Key"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
                    &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:SetVariable&gt;
                    &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
                    &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
                &lt;/L7p:SetVariable&gt;
                &lt;L7p:Regex&gt;
                    &lt;L7p:AutoTarget booleanValue="false"/&gt;
                    &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
                    &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
                    &lt;L7p:PatternContainsVariables booleanValue="true"/&gt;
                    &lt;L7p:Regex stringValue="/${endPointCalling}"/&gt;
                    &lt;L7p:RegexName stringValue="process uri"/&gt;
                    &lt;L7p:Replace booleanValue="true"/&gt;
                    &lt;L7p:Replacement stringValue="/"/&gt;
                    &lt;L7p:Target target="OTHER"/&gt;
                &lt;/L7p:Regex&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/kv${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:All wsp:Usage="Required"&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Key"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="key"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:EvaluateJsonPathExpression&gt;
                &lt;L7p:Expression stringValue="[0].Value"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="value"/&gt;
            &lt;/L7p:EvaluateJsonPathExpression&gt;
            &lt;L7p:SetVariable&gt;
                &lt;L7p:Base64Expression stringValue="JHt2YWx1ZS5yZXN1bHRzWzBdfQ=="/&gt;
                &lt;L7p:ContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:DataType variableDataType="message"/&gt;
                &lt;L7p:VariableToSet stringValue="output"/&gt;
            &lt;/L7p:SetVariable&gt;
            &lt;L7p:EncodeDecode&gt;
                &lt;L7p:CharacterEncoding stringValueNull="null"/&gt;
                &lt;L7p:SourceVariableName stringValue="output"/&gt;
                &lt;L7p:TargetContentType stringValue="application/json; charset=utf-8"/&gt;
                &lt;L7p:TargetDataType variableDataType="message"/&gt;
                &lt;L7p:TargetVariableName stringValue="output"/&gt;
                &lt;L7p:TransformType transformType="BASE64_DECODE"/&gt;
            &lt;/L7p:EncodeDecode&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="PREPARE RESPONSE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Retrieve data from consul and prepare the response"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:All&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtvdXRwdXQubWFpbnBhcnR9Cgo="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Catalog Search</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28156b</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.478Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="e629b096-4989-40c3-9359-11c487734466" id="4470879d84cb251ffeb70ae13a28156b" version="0">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="e629b096-4989-40c3-9359-11c487734466" id="4470879d84cb251ffeb70ae13a28156b" version="0">
                        <l7:Name>Consul - Catalog Search</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Search"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtlbmRQb2ludENhbGxpbmd9"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="c2VydmljZS9jYXRhbG9nLw=="/&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:VariableToSet stringValue="proxyEP"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:SetVariable&gt;
            &lt;L7p:Base64Expression stringValue="JHtyZXF1ZXN0Lmh0dHAudXJpfQ=="/&gt;
            &lt;L7p:VariableToSet stringValue="param.uri"/&gt;
        &lt;/L7p:SetVariable&gt;
        &lt;L7p:Regex&gt;
            &lt;L7p:AutoTarget booleanValue="false"/&gt;
            &lt;L7p:CaptureVar stringValue="value"/&gt;
            &lt;L7p:CaseInsensitive booleanValue="true"/&gt;
            &lt;L7p:OtherTargetMessageVariable stringValue="param.uri"/&gt;
            &lt;L7p:Regex stringValue="/service/catalog/"/&gt;
            &lt;L7p:RegexName stringValue="process uri"/&gt;
            &lt;L7p:Replace booleanValue="true"/&gt;
            &lt;L7p:Replacement stringValue="/"/&gt;
            &lt;L7p:Target target="OTHER"/&gt;
        &lt;/L7p:Regex&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:ComparisonAssertion&gt;
                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                    &lt;L7p:Expression1 stringValue="${value[0]}"/&gt;
                    &lt;L7p:Operator operatorNull="null"/&gt;
                    &lt;L7p:Predicates predicates="included"&gt;
                        &lt;L7p:item dataType="included"&gt;
                            &lt;L7p:Type variableDataType="string"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item binary="included"&gt;
                            &lt;L7p:RightValue stringValue="/service/catalog/"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Predicates&gt;
                &lt;/L7p:ComparisonAssertion&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/catalog/service${param.uri}"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:HttpRoutingAssertion&gt;
                    &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
                    &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/catalog/services"/&gt;
                    &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                    &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                    &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Cookie"/&gt;
                            &lt;/L7p:item&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="SOAPAction"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:RequestHeaderRules&gt;
                    &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                    &lt;/L7p:RequestParamRules&gt;
                    &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                        &lt;L7p:ForwardAll booleanValue="true"/&gt;
                        &lt;L7p:Rules httpPassthroughRules="included"&gt;
                            &lt;L7p:item httpPassthroughRule="included"&gt;
                                &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                            &lt;/L7p:item&gt;
                        &lt;/L7p:Rules&gt;
                    &lt;/L7p:ResponseHeaderRules&gt;
                    &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtyZXNwb25zZS5tYWlucGFydH0="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Catalog Register</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28156c</l7:Id>
            <l7:Type>POLICY</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.480Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Policy guid="ebf62a5b-7142-4926-ace0-435beeaf81ca" id="4470879d84cb251ffeb70ae13a28156c" version="1">
                    <l7:PolicyDetail folderId="4470879d84cb251ffeb70ae13a281577" guid="ebf62a5b-7142-4926-ace0-435beeaf81ca" id="4470879d84cb251ffeb70ae13a28156c" version="1">
                        <l7:Name>Consul - Catalog Register</l7:Name>
                        <l7:PolicyType>Include</l7:PolicyType>
                        <l7:Properties>
                            <l7:Property key="revision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:PolicyDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Register"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:HttpMethod httpMethod="PUT"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/catalog/register"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Policy>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>AWS-Lambda</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281589</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.483Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281589" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281578" id="4470879d84cb251ffeb70ae13a281589" version="2">
                        <l7:Name>AWS-Lambda</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/lambda/getresponse</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtsYW1iZGFSZXNwfQ=="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>consul-CacheUpdate</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec113c</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.496Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="0f70cf5601d3fe40454b68c342ec113c" version="3">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="0f70cf5601d3fe40454b68c342ec113c" version="3">
                        <l7:Name>consul-CacheUpdate</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/cache/update</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="2">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:Level stringValue="INFO"/&gt;
            &lt;L7p:SaveRequest booleanValue="true"/&gt;
            &lt;L7p:SaveResponse booleanValue="true"/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Get all nodes"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/coordinate/nodes"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:AssertionComment assertionComment="included"&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="// Parse node info"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:AssertionComment&gt;
            &lt;L7p:Expression stringValue=".Node"/&gt;
            &lt;L7p:Target target="RESPONSE"/&gt;
            &lt;L7p:VariablePrefix stringValue="nodes"/&gt;
        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
        &lt;L7p:ForEachLoop L7p:Usage="Required"
            loopVariable="nodes.results" variablePrefix="node"&gt;
            &lt;L7p:HttpRoutingAssertion&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Get health for node"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/health/node/${node.current}"/&gt;
                &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Cookie"/&gt;
                        &lt;/L7p:item&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="SOAPAction"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:RequestHeaderRules&gt;
                &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                &lt;/L7p:RequestParamRules&gt;
                &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                    &lt;L7p:ForwardAll booleanValue="true"/&gt;
                    &lt;L7p:Rules httpPassthroughRules="included"&gt;
                        &lt;L7p:item httpPassthroughRule="included"&gt;
                            &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:Rules&gt;
                &lt;/L7p:ResponseHeaderRules&gt;
                &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
            &lt;/L7p:HttpRoutingAssertion&gt;
            &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                &lt;L7p:AssertionComment assertionComment="included"&gt;
                    &lt;L7p:Properties mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                            &lt;L7p:value stringValue="// Parse service names"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Properties&gt;
                &lt;/L7p:AssertionComment&gt;
                &lt;L7p:Expression stringValue=".ServiceName"/&gt;
                &lt;L7p:Target target="RESPONSE"/&gt;
                &lt;L7p:VariablePrefix stringValue="serviceNames"/&gt;
            &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
            &lt;L7p:ForEachLoop L7p:Usage="Required"
                loopVariable="serviceNames.results" variablePrefix="serviceName"&gt;
                &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                            &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                            &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                            &lt;L7p:Operator operatorNull="null"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                        &lt;L7p:HttpRoutingAssertion&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="//Get service info"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:ProtectedServiceUrl stringValue="${gateway.consul.hostaddress}/health/service/${serviceName.current}"/&gt;
                            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
                            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
                            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="SOAPAction"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:RequestHeaderRules&gt;
                            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
                            &lt;/L7p:RequestParamRules&gt;
                            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                                    &lt;L7p:item httpPassthroughRule="included"&gt;
                                    &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Rules&gt;
                            &lt;/L7p:ResponseHeaderRules&gt;
                            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
                        &lt;/L7p:HttpRoutingAssertion&gt;
                        &lt;L7p:EvaluateJsonPathExpressionV2&gt;
                            &lt;L7p:AssertionComment assertionComment="included"&gt;
                                &lt;L7p:Properties mapValue="included"&gt;
                                    &lt;L7p:entry&gt;
                                    &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                                    &lt;L7p:value stringValue="// Parse service for all addresses"/&gt;
                                    &lt;/L7p:entry&gt;
                                &lt;/L7p:Properties&gt;
                            &lt;/L7p:AssertionComment&gt;
                            &lt;L7p:Expression stringValue=".Service.Address"/&gt;
                            &lt;L7p:Target target="RESPONSE"/&gt;
                            &lt;L7p:VariablePrefix stringValue="serviceAddresses"/&gt;
                        &lt;/L7p:EvaluateJsonPathExpressionV2&gt;
                        &lt;L7p:AuditDetailAssertion&gt;
                            &lt;L7p:Detail stringValue="Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                            &lt;L7p:Enabled booleanValue="false"/&gt;
                            &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                        &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;wsp:OneOrMore L7p:Enabled="false" wsp:Usage="Required"&gt;
                            &lt;L7p:CacheLookup&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheLookup&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[Before Saving
Service name : ${serviceName.current}
Addresses from Cache before storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;/wsp:OneOrMore&gt;
                        &lt;wsp:All wsp:Usage="Required"&gt;
                            &lt;L7p:ComparisonAssertion&gt;
                                &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                &lt;L7p:Expression1 stringValue="${serviceAddresses.results}"/&gt;
                                &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                                &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                                &lt;L7p:Operator operatorNull="null"/&gt;
                                &lt;L7p:Predicates predicates="included"&gt;
                                    &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                    &lt;/L7p:item&gt;
                                    &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Negated booleanValue="true"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                    &lt;/L7p:item&gt;
                                &lt;/L7p:Predicates&gt;
                            &lt;/L7p:ComparisonAssertion&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValue="Before Saving Addresses retrieved from consul : ${serviceAddresses.results}"/&gt;
                                &lt;L7p:Enabled booleanValue="false"/&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                            &lt;L7p:SetVariable&gt;
                                &lt;L7p:Base64Expression stringValue="JHtzZXJ2aWNlQWRkcmVzc2VzLnJlc3VsdHN9"/&gt;
                                &lt;L7p:ContentType stringValue="text/plain; charset=utf-8"/&gt;
                                &lt;L7p:DataType variableDataType="message"/&gt;
                                &lt;L7p:VariableToSet stringValue="addrMessage"/&gt;
                            &lt;/L7p:SetVariable&gt;
                            &lt;L7p:CacheStorage&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:MaxEntries stringValue="1000"/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:MaxEntrySizeBytes stringValue="1000000"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="addrMessage"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheStorage&gt;
                        &lt;/wsp:All&gt;
                        &lt;wsp:All L7p:Enabled="false" wsp:Usage="Required"&gt;
                            &lt;L7p:CacheLookup&gt;
                                &lt;L7p:CacheEntryKey stringValue="${serviceName.current}"/&gt;
                                &lt;L7p:CacheId stringValue="consul-service-reg-data"/&gt;
                                &lt;L7p:ContentTypeOverride stringValue=""/&gt;
                                &lt;L7p:MaxEntryAgeSeconds stringValue="600"/&gt;
                                &lt;L7p:OtherTargetMessageVariable stringValue="serviceName.available"/&gt;
                                &lt;L7p:Target target="OTHER"/&gt;
                            &lt;/L7p:CacheLookup&gt;
                            &lt;L7p:AuditDetailAssertion&gt;
                                &lt;L7p:Detail stringValueReference="inline"&gt;&lt;![CDATA[After Saving
Service name : ${serviceName.current}
Addresses from Cache after storing : ${serviceName.available.mainpart}]]&gt;&lt;/L7p:Detail&gt;
                                &lt;L7p:LoggingOnly booleanValue="true"/&gt;
                            &lt;/L7p:AuditDetailAssertion&gt;
                        &lt;/wsp:All&gt;
                    &lt;/wsp:All&gt;
                    &lt;wsp:All wsp:Usage="Required"&gt;
                        &lt;L7p:ComparisonAssertion&gt;
                            &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                            &lt;L7p:Expression1 stringValue="${serviceName.current}"/&gt;
                            &lt;L7p:ExpressionIsVariable booleanValue="false"/&gt;
                            &lt;L7p:MultivaluedComparison multivaluedComparison="FIRST"/&gt;
                            &lt;L7p:Operator operatorNull="null"/&gt;
                            &lt;L7p:Predicates predicates="included"&gt;
                                &lt;L7p:item dataType="included"&gt;
                                    &lt;L7p:Type variableDataType="string"/&gt;
                                &lt;/L7p:item&gt;
                                &lt;L7p:item binary="included"&gt;
                                    &lt;L7p:CaseSensitive booleanValue="false"/&gt;
                                    &lt;L7p:Operator operator="EMPTY"/&gt;
                                    &lt;L7p:RightValue stringValue=""/&gt;
                                &lt;/L7p:item&gt;
                            &lt;/L7p:Predicates&gt;
                        &lt;/L7p:ComparisonAssertion&gt;
                    &lt;/wsp:All&gt;
                &lt;/wsp:OneOrMore&gt;
            &lt;/L7p:ForEachLoop&gt;
        &lt;/L7p:ForEachLoop&gt;
        &lt;L7p:FaultLevel&gt;
            &lt;L7p:LevelInfo soapFaultLevel="included"&gt;
                &lt;L7p:Level intValue="4"/&gt;
            &lt;/L7p:LevelInfo&gt;
        &lt;/L7p:FaultLevel&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="T2s="/&gt;
            &lt;L7p:ResponseContentType stringValue="text/plain; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul - Dynamic Route with Service</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec189a</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.496Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="0f70cf5601d3fe40454b68c342ec189a" version="0">
                    <l7:Name>Consul - Dynamic Route with Service</l7:Name>
                    <l7:Guid>a279dc54-41a8-4ed2-82fc-69ea5bd0cfb3</l7:Guid>
                    <l7:PolicyReference id="0f70cf5601d3fe40454b68c342ec1869" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiLabel>Calling EndPoint</l7:GuiLabel>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Dynamic Route for Service in Catalog (consul)</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>ebf77ddd-9b9f-4020-8129-add1bc8fe6ef</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-ServiceRoute</l7:Name>
            <l7:Id>0f70cf5601d3fe40454b68c342ec12b5</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.500Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="0f70cf5601d3fe40454b68c342ec12b5" version="4">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="0f70cf5601d3fe40454b68c342ec12b5" version="4">
                        <l7:Name>Consul-ServiceRoute</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/microsvc*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>25</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="24">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Dynamic Service Route"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="a279dc54-41a8-4ed2-82fc-69ea5bd0cfb3"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Dynamic Route with Service"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="microsvc/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Apply RateLimit</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157d</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.501Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157d" version="0">
                    <l7:Name>CONSUL - Apply RateLimit</l7:Name>
                    <l7:Guid>c7d251e3-37e6-4661-967a-6d42a5c42591</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a281568" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>domain</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Applying Rate Limit specific to given Domain using Consul Key/Value Stream.</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>accessControl</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>887efd92-2ff8-4ca6-b124-8c82d3ea4101</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Dynamic Route with Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157f</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.501Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157f" version="1">
                    <l7:Name>CONSUL - Dynamic Route with Key</l7:Name>
                    <l7:Guid>dbd538df-ec94-4025-86f1-5492fbf653d9</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a281565" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Retrieves specifc key/value from Consul and does a dynamic Route</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>680cebc3-81d6-4d83-be94-6dd1ab669989</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-KeyRoute</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281581</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.505Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281581" version="3">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281581" version="3">
                        <l7:Name>Consul-KeyRoute</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/route/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="c7d251e3-37e6-4661-967a-6d42a5c42591"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Apply RateLimit"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="domain"/&gt;
                            &lt;L7p:value stringValue="crm"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " ApplyRateLimit",
   "Descripton" : "# of request exceeds the given limit - Please contact admin."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="RateLimit Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                    &lt;L7p:IncludePolicyDownloadURL booleanValue="true"/&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="ENTERPRISE Wide TEMPLATE Addition"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Add Enterprise wide templates"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="dbd538df-ec94-4025-86f1-5492fbf653d9"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - DynamicRoute"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="route/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="DYNAMIC ROUTE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Dynamic Route based on retrieved value for the given key in Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-AgentService</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281582</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.508Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281582" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281582" version="2">
                        <l7:Name>Consul-AgentService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/agent/services</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:HttpRoutingAssertion&gt;
            &lt;L7p:FailOnErrorStatus booleanValue="false"/&gt;
            &lt;L7p:ProtectedServiceUrl stringValue="http://${gateway.consul.hostaddress}/agent/services"/&gt;
            &lt;L7p:ProxyPassword stringValueNull="null"/&gt;
            &lt;L7p:ProxyUsername stringValueNull="null"/&gt;
            &lt;L7p:RequestHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Cookie"/&gt;
                    &lt;/L7p:item&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="SOAPAction"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:RequestHeaderRules&gt;
            &lt;L7p:RequestParamRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"/&gt;
            &lt;/L7p:RequestParamRules&gt;
            &lt;L7p:ResponseHeaderRules httpPassthroughRuleSet="included"&gt;
                &lt;L7p:ForwardAll booleanValue="true"/&gt;
                &lt;L7p:Rules httpPassthroughRules="included"&gt;
                    &lt;L7p:item httpPassthroughRule="included"&gt;
                        &lt;L7p:Name stringValue="Set-Cookie"/&gt;
                    &lt;/L7p:item&gt;
                &lt;/L7p:Rules&gt;
            &lt;/L7p:ResponseHeaderRules&gt;
            &lt;L7p:SamlAssertionVersion intValue="2"/&gt;
        &lt;/L7p:HttpRoutingAssertion&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - DeRegister Catalog Service</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157e</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.508Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157e" version="1">
                    <l7:Name>CONSUL - DeRegister Catalog Service</l7:Name>
                    <l7:Guid>9a13a628-087a-4728-8b53-59f4398869e2</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a281566" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Consul Deregister Service</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>5ad5fbbb-e63d-48ad-a9bd-8e2286a3329b</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-DeRegisterService</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281583</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.512Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281583" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281583" version="2">
                        <l7:Name>Consul-DeRegisterService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/deregister</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - DeRegister Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="9a13a628-087a-4728-8b53-59f4398869e2"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - DeRegister Catalog Service"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - GET Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281580</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.512Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a281580" version="0">
                    <l7:Name>CONSUL - GET Key</l7:Name>
                    <l7:Guid>294fe42d-8cab-4110-a8d2-a4302de12840</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a28156a" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults>
                        <l7:EncapsulatedAssertionResult>
                            <l7:ResultName>output</l7:ResultName>
                            <l7:ResultType>message</l7:ResultType>
                        </l7:EncapsulatedAssertionResult>
                    </l7:EncapsulatedResults>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Retreive Value for a given Key from Consul Key/Value Stream</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>dd304b42-3b1f-44ba-be4e-2f9f50fc1a23</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-Get</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281584</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.516Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281584" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281584" version="2">
                        <l7:Name>Consul-Get</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/get/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="294fe42d-8cab-4110-a8d2-a4302de12840"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - GET Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="get/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
        &lt;L7p:HardcodedResponse&gt;
            &lt;L7p:Base64ResponseBody stringValue="JHtvdXRwdXQubWFpbnBhcnR9Cgo="/&gt;
            &lt;L7p:ResponseContentType stringValue="application/json; charset=UTF-8"/&gt;
        &lt;/L7p:HardcodedResponse&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Catalog Search</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157a</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.516Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157a" version="1">
                    <l7:Name>CONSUL - Catalog Search</l7:Name>
                    <l7:Guid>6e45f465-5b89-456b-b587-1d4b8a29e134</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a28156b" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Search the catalog based on input 
 a. No input - brings all services in the catalog
 b. with specific service given - brings the details for that service.</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>e629b096-4989-40c3-9359-11c487734466</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-ServiceCatalog</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281585</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.520Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281585" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281585" version="2">
                        <l7:Name>Consul-ServiceCatalog</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/catalog*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Catalog Search"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="6e45f465-5b89-456b-b587-1d4b8a29e134"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="Consul - Catalog Search"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="service/catalog/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - Catalog Register</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157b</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.520Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157b" version="1">
                    <l7:Name>CONSUL - Catalog Register</l7:Name>
                    <l7:Guid>e77f28f0-eb64-4138-9bb6-b78b7cfad5f1</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a28156c" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments/>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>For Registering Service with catalog</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>false</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>ebf62a5b-7142-4926-ace0-435beeaf81ca</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-RegisterService</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281587</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.524Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281587" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281587" version="2">
                        <l7:Name>Consul-RegisterService</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/service/register</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>2</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="1">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Policy Fragment: Consul - Register Service"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Consul Service Register"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="e77f28f0-eb64-4138-9bb6-b78b7cfad5f1"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - Catalog Register"/&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>CONSUL - PUT Key</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a28157c</l7:Id>
            <l7:Type>ENCAPSULATED_ASSERTION</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.524Z</l7:TimeStamp>
            <l7:Resource>
                <l7:EncapsulatedAssertion id="4470879d84cb251ffeb70ae13a28157c" version="0">
                    <l7:Name>CONSUL - PUT Key</l7:Name>
                    <l7:Guid>3c098a52-f81c-4fb9-ae65-a4bfdd98d1ff</l7:Guid>
                    <l7:PolicyReference id="4470879d84cb251ffeb70ae13a281569" resourceUri="http://ns.l7tech.com/2010/04/gateway-management/policies"/>
                    <l7:EncapsulatedArguments>
                        <l7:EncapsulatedAssertionArgument>
                            <l7:Ordinal>1</l7:Ordinal>
                            <l7:ArgumentName>endPointCalling</l7:ArgumentName>
                            <l7:ArgumentType>string</l7:ArgumentType>
                            <l7:GuiPrompt>true</l7:GuiPrompt>
                        </l7:EncapsulatedAssertionArgument>
                    </l7:EncapsulatedArguments>
                    <l7:EncapsulatedResults/>
                    <l7:Properties>
                        <l7:Property key="allowTracing">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="description">
                            <l7:StringValue>Adding/Updating the Key/Value Stream in Consul</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="paletteFolder">
                            <l7:StringValue>internalAssertions</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="passMetricsToParent">
                            <l7:StringValue>true</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="policyGuid">
                            <l7:StringValue>c85c97e7-e777-4d9b-ad38-cb9015312210</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:EncapsulatedAssertion>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>Consul-PUT</l7:Name>
            <l7:Id>4470879d84cb251ffeb70ae13a281588</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2019-08-22T03:20:06.528Z</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="4470879d84cb251ffeb70ae13a281588" version="2">
                    <l7:ServiceDetail folderId="4470879d84cb251ffeb70ae13a281579" id="4470879d84cb251ffeb70ae13a281588" version="2">
                        <l7:Name>Consul-PUT</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/put/key*</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>1</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="0">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API :- Get OTK Client"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API Group :- API Security"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="API TYPE :- &amp;lt;REST/SOAP/DATA&gt;"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="Author: Balaji Radhakrishnan"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;L7p:CommentAssertion&gt;
            &lt;L7p:Comment stringValue="************************************************************"/&gt;
        &lt;/L7p:CommentAssertion&gt;
        &lt;wsp:OneOrMore wsp:Usage="Required"&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:Encapsulated&gt;
                    &lt;L7p:EncapsulatedAssertionConfigGuid stringValue="3c098a52-f81c-4fb9-ae65-a4bfdd98d1ff"/&gt;
                    &lt;L7p:EncapsulatedAssertionConfigName stringValue="CONSUL - PUT Key"/&gt;
                    &lt;L7p:Parameters mapValue="included"&gt;
                        &lt;L7p:entry&gt;
                            &lt;L7p:key stringValue="endPointCalling"/&gt;
                            &lt;L7p:value stringValue="put/key/"/&gt;
                        &lt;/L7p:entry&gt;
                    &lt;/L7p:Parameters&gt;
                &lt;/L7p:Encapsulated&gt;
            &lt;/wsp:All&gt;
            &lt;wsp:All wsp:Usage="Required"&gt;
                &lt;L7p:CustomizeErrorResponse&gt;
                    &lt;L7p:Content stringValueReference="inline"&gt;&lt;![CDATA[{
    "Error" : " Route Failure",
   "Descripton" : "Invalid Key - Please check and try again."
}]]&gt;&lt;/L7p:Content&gt;
                    &lt;L7p:ContentType stringValue="application/json; charset=UTF-8"/&gt;
                    &lt;L7p:ExtraHeaders nameValuePairArray="included"&gt;
                        &lt;L7p:item nameValuePair="included"&gt;
                            &lt;L7p:Key stringValue="x.broadcom.error"/&gt;
                            &lt;L7p:Value stringValue="Request Failer"/&gt;
                        &lt;/L7p:item&gt;
                    &lt;/L7p:ExtraHeaders&gt;
                &lt;/L7p:CustomizeErrorResponse&gt;
                &lt;L7p:RaiseError/&gt;
            &lt;/wsp:All&gt;
            &lt;L7p:assertionComment&gt;
                &lt;L7p:Properties mapValue="included"&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="LEFT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="GET KEY/VALUE"/&gt;
                    &lt;/L7p:entry&gt;
                    &lt;L7p:entry&gt;
                        &lt;L7p:key stringValue="RIGHT.COMMENT"/&gt;
                        &lt;L7p:value stringValue="//Retrieve Value for the given key from Consul"/&gt;
                    &lt;/L7p:entry&gt;
                &lt;/L7p:Properties&gt;
            &lt;/L7p:assertionComment&gt;
        &lt;/wsp:OneOrMore&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
    </l7:References>
    <l7:Mappings>
        <l7:Mapping action="NewOrExisting" srcId="0000000000000000ffffffffffffec76" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/0000000000000000ffffffffffffec76" type="FOLDER">
            <l7:Properties>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281576" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/4470879d84cb251ffeb70ae13a281576" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec11fc" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/0f70cf5601d3fe40454b68c342ec11fc" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281577" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/4470879d84cb251ffeb70ae13a281577" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281578" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/4470879d84cb251ffeb70ae13a281578" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281579" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/folders/4470879d84cb251ffeb70ae13a281579" type="FOLDER"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec124a" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/0f70cf5601d3fe40454b68c342ec124a" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec1357" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/0f70cf5601d3fe40454b68c342ec1357" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec13a1" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/0f70cf5601d3fe40454b68c342ec13a1" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="0000000000000000fffffffffff5519f" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/clusterProperties/0000000000000000fffffffffff5519f" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281586" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281586" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="ea99171044b9c03cd3cf8891242458c9" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/clusterProperties/ea99171044b9c03cd3cf8891242458c9" type="CLUSTER_PROPERTY">
            <l7:Properties>
                <l7:Property key="MapBy">
                    <l7:StringValue>name</l7:StringValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrExisting" srcId="00000000000000000000000000000002:SSL" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/privateKeys/00000000000000000000000000000002:SSL" type="SSG_KEY_ENTRY"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec1108" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/0f70cf5601d3fe40454b68c342ec1108" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec1869" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/0f70cf5601d3fe40454b68c342ec1869" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281565" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a281565" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281566" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a281566" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281568" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a281568" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281569" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a281569" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28156a" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a28156a" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28156b" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a28156b" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28156c" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/policies/4470879d84cb251ffeb70ae13a28156c" type="POLICY"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281589" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281589" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec113c" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/0f70cf5601d3fe40454b68c342ec113c" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec189a" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/0f70cf5601d3fe40454b68c342ec189a" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="0f70cf5601d3fe40454b68c342ec12b5" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/0f70cf5601d3fe40454b68c342ec12b5" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157d" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157d" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157f" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157f" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281581" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281581" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281582" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281582" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157e" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157e" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281583" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281583" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281580" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a281580" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281584" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281584" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157a" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157a" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281585" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281585" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157b" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157b" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281587" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281587" type="SERVICE"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a28157c" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/encapsulatedAssertions/4470879d84cb251ffeb70ae13a28157c" type="ENCAPSULATED_ASSERTION"/>
        <l7:Mapping action="NewOrExisting" srcId="4470879d84cb251ffeb70ae13a281588" srcUri="https://gw-dc-9ccdc77c9-2f4jr:8443/restman/1.0/services/4470879d84cb251ffeb70ae13a281588" type="SERVICE"/>
    </l7:Mappings>
</l7:Bundle>
